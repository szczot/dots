(window.webpackChunk=window.webpackChunk||[]).push([[547],{51897:(e,t,a)=>{var r=a(25682),s="chrome-extension://__MSG_@@extension_id__/",i="moz-extension://__MSG_@@extension_id__/",n=window.GR_RESOURCE_ROOT||s,o=window.GR_RESOURCE_ROOT||i;e.exports={__css:r.toString().replace(new RegExp(s,"g"),n).replace(new RegExp(i,"g"),o),...r.locals}},5178:(e,t,a)=>{"use strict";a.d(t,{Q:()=>r,_:()=>n});var r,s=a(75003),i=a(53844);!function(e){e.readersAttention="readers_attention",e.settings="settings",e.smartPhrases="smart_phrases"}(r||(r={}));class n{constructor(e,t,a){this._assistantLayoutViewModel=e,this._domain=t,this._gnar=a}getDomain(){return this._domain}openFeedback(e){this._entryPoint=e,this._gnar.assistantFeedbackButtonClick(this._entryPoint),this._assistantLayoutViewModel.pushActiveView({type:s.a.Type.feedback})}submitFeedback(e){this._gnar.assistantFeedbackSubmitButtonClick(this._entryPoint,e.domain,e.text,(0,i.d)(e)?e.score:void 0)}get entryPoint(){return this._entryPoint}}},15401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SmartPhrasesFeature:()=>S});var r=a(40327),s=a(23830),i=a(17404),n=a(5178),o=a(90361),l=a(74850),c=a(84966),d=a(80800),m=a(40018),u=a(14601),h=a(16118),p=a(77176),b=a(85985),f=a(28043),g=a(15646),k=a(5114),_=a(83078);class S{constructor(e,t,a,r){this._alertProcessor=t,this._getCheckingService=a,this._gnar=r,this._subs=new u.w,this._log=l.Y.create("SmartPhrasesFeature"),this._smartPhrasesAlertState=new Map,this._subs.add(e.pipe(h.G(),p.U((([e,t])=>{const a=new Set(Array.from(e.values()).map((e=>e.meta.alertId)));return Array.from(t.values()).filter((e=>!a.has(e.meta.alertId))).map((e=>this._alertProcessor.alerts.getAlertById(e.meta.alertId))).find((e=>e&&i.S.isSmartPhrasesAlert(e)))})),b.h(o.fQ),b.h(i.S.isSmartPhrasesAlert)).subscribe((e=>this._gnar.smartPhrasesIntentSentenceHighlight(e.title))))}getAlertState(e){return this._smartPhrasesAlertState.get(e)}registerAlertState(e,t){this._smartPhrasesAlertState.set(e,t)}get addStateToRawAlertTransformer(){return e=>{if(c.wQ.isSmartPhrases(e)){const t=this.getAlertState(e.id);return t&&e.extra_properties.smart_phrases_intent?{...e,extra_properties:{...e.extra_properties,smart_phrases_alert_state:{...e.extra_properties.smart_phrases_alert_state,...t}}}:e}return e}}initCardActionsProcessing(e,t,a,i){this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesUpdateStateAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),k.chain((e=>m.bZ.getRawId(e))),_.bw((t=>this.registerAlertState(t,e.state))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesShowMiniCardAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((e=>this._gnar.smartPhrasesAssistantCardMinifiedShow(e.title))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesShowFullCardAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((e=>this._gnar.smartPhrasesAssistantCardExpandedShow(e.title))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesApplyAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),k.filter(m.bZ.isSmartPhrases),_.bw((t=>this._gnar.smartPhrasesAssistantCardExpandedReplacementApply(t.title,t.replacements[e.originalReplacementIndex]))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesShowMoreIdeasAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((e=>this._gnar.smartPhrasesAssistantCardExpandedShowMoreIdeasButtonClick(e.title))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesDismissAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((e=>this._gnar.smartPhrasesAssistantCardExpandedDismissButtonClick(e.title))))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesFeedbackAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((t=>{e.feedbackType===m.cm.SMART_PHRASES_INTENT_DETECTED_ACCURATE?this._gnar.smartPhrasesAssistantCardMinifiedYesButtonClick(t.title):e.feedbackType===m.cm.SMART_PHRASES_INTENT_DETECTED_INACCURATE&&this._gnar.smartPhrasesAssistantCardMinifiedNoButtonClick(t.title)})))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesDoneAction)).subscribe((e=>(0,r.pipe)(t.getById(e.alertId),_.bw((t=>{"user"===e.source?this._gnar.smartPhrasesAssistantCardExpandedDoneButtonClick(t.title):this._gnar.smartPhrasesAssistantCardHide(t.title)})))))),this._subs.add(a.pipe(f.x(),b.h((e=>"closed"===e))).subscribe((()=>this._smartPhrasesAlertState.forEach(((e,t)=>{var a;e.hideReplacements&&this._alertProcessor.alerts.getAlertById(t)&&(this._log.trace("Assistant closed, dismissing used SmartPhrases alert:",t),null===(a=this._getCheckingService())||void 0===a||a.onAlertHideById(t,c.e3.Sidebar),this._alertProcessor.removeAlert(t,{_tag:s.i.alertAccepted}),this._smartPhrasesAlertState.delete(t))}))))),this._subs.add(e.pipe(b.h(g.lY.isSmartPhrasesOpenFeedbackFormAction)).subscribe((()=>{i.openFeedback(n.Q.smartPhrases)})))}static shouldCreate(e,t,a,r){var s,i,n,o;const l=null!==(n=null===(i=null===(s=t.smartPhrases)||void 0===s?void 0:s.enableByBrowser)||void 0===i?void 0:i[e])&&void 0!==n&&n,c=Boolean(null===(o=a.experiments)||void 0===o?void 0:o.smartPhrases);return l&&c&&"docs.google.com"!==r}dispose(){this._subs.unsubscribe()}}S.getRequiredDenaliSupportedFeatures=(e,t,a,r)=>S.shouldCreate(e,t,a,r)?[d.zV.smartPhrases]:[]},95888:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var r=a(27378),s=a(53112);const i=({color:e=s.Z.neutral0})=>r.createElement("svg",{width:"16",height:"13",viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{filter:"url(#filter0_d)"},r.createElement("path",{d:"M3 5L6.5 8.5L13 2",stroke:e,strokeWidth:"2"})),r.createElement("defs",null,r.createElement("filter",{id:"filter0_d",x:"0.292892",y:"0.292847",width:"15.4142",height:"12.6213",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dy:"1"}),r.createElement("feGaussianBlur",{stdDeviation:"1"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.211765 0 0 0 0 0.34902 0 0 0 0 0.709804 0 0 0 0.5 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))));var n=a(12187),o=a(53358);const l=({onChange:e=(()=>null),labelId:t,className:a,children:s})=>{const[l,c]=r.useState(!1);r.useEffect((()=>{e(l)}),[l]);const d=e=>{e.preventDefault(),e.stopPropagation(),c(!l)};return r.createElement("div",{"data-grammarly-part":"ui-kit-checkbox",className:a},r.createElement("div",{className:o.checkboxContainer},r.createElement("div",Object.assign({},(0,n.Sh)(o.checkbox,l?o.checkboxChecked:null),{role:"checkbox","aria-checked":l,tabIndex:0,"aria-labelledby":t,onKeyDown:e=>{" "===e.key&&d(e)},onClick:d}),l?r.createElement(i,null):null),r.createElement("label",{id:t,onClick:d},s)))}},47422:(e,t,a)=>{"use strict";a.d(t,{z:()=>l});var r=a(27378),s=a(84488),i=a(68370),n=a(51897),o=a.n(n);const l=({placeholder:e,onChange:t,ariaLabel:a,className:n})=>{const[l,c]=r.useState("");return r.useEffect((()=>{t(l)}),[l]),r.createElement(s.G,{"data-grammarly-part":"ui-kit-textbox",className:n,style:{width:"100%",height:"100%"}},r.createElement(i.b,null,o().__css),r.createElement("div",{role:"textbox",className:o().textBox,contentEditable:!0,onInput:e=>c(e.target.innerText),"data-placeholder":e,"aria-placeholder":e,"aria-label":a}))}},53844:(e,t,a)=>{"use strict";a.d(t,{q:()=>f,d:()=>b});var r=a(27378),s=a(12187),i=a(21420);const n=({options:e,onChange:t=(()=>null),ariaLabel:a,className:n})=>{const o=[],[l,c]=r.useState(null);r.useEffect((()=>{var a;null!==l&&(null===(a=o[l])||void 0===a||a.focus()),t(null!==l?e[l].value:null)}),[l]);const d=null!==l?e[l]:null;return r.createElement("div",{"data-grammarly-part":"ui-kit-radio-group",className:n},r.createElement("div",{className:i.radioGroup,role:"radiogroup","aria-label":a,onKeyDown:t=>{if(" "!==t.key||d){if("ArrowRight"===t.key||"ArrowDown"===t.key){t.preventDefault(),t.stopPropagation();c(((l||0)+1)%e.length)}else if("ArrowLeft"===t.key||"ArrowUp"===t.key){t.preventDefault(),t.stopPropagation();const a=(l||0)-1;c(a<0?e.length-1:a)}}else t.preventDefault(),t.stopPropagation(),c(0)}},e.map(((e,t)=>{const a=(null==d?void 0:d.value)===e.value,n=0===t;return r.createElement("div",Object.assign({key:e.value},(0,s.Sh)(i.radioGroupOption,a?i.radioGroupOptionSelected:null),{role:"radio",tabIndex:a||n&&!d?0:-1,"aria-checked":a,onClick:e=>{e.preventDefault(),e.stopPropagation(),c(t)},ref:e=>o.push(e)}),e.render())}))))};var o,l=a(24606),c=a(47422),d=a(95888),m=a(53112),u=a(5872),h=a(51217),p=a(44544);function b(e){return"score"in e}!function(e){e.bad="bad",e.ok="ok",e.good="good"}(o||(o={}));const f=e=>{const t=[o.bad,o.ok,o.good],[a,i]=r.useState(null),[b,f]=r.useState(""),[g,k]=r.useState(!1),[_,S]=r.useState(!1);let x;return x=_?r.createElement("div",Object.assign({"data-grammarly-part":"surveys-feedback-form-thank-you"},(0,s.Sh)(h.feedbackFormContainer,h.feedbackFormContainerAlignCenter)),r.createElement("div",{className:h.feedbackFormSuccessMessageTextContainer},r.createElement("div",{className:h.feedbackFormSuccessMessageIcon}),r.createElement("div",{className:h.feedbackFormSuccessMessageTitle},"Thank you!"),r.createElement("div",{className:h.feedbackFormSuccessMessageSubtitle},"Your feedback helps us improve.")),r.createElement(l.z,{containerClassName:(0,u.cs)(h.feedbackFormSubmitButton,e.fixSubmitButtonOverflowBottomPadding?h.feedbackFormSubmitButtonFixOverflowBottomPadding:null),kind:"success",type:"submit",onClick:e.onClose,style:{height:"32px"}},"Done")):r.createElement("div",Object.assign({"data-grammarly-part":"surveys-feedback-form-fields"},(0,s.Sh)(h.feedbackFormContainer,"center"===e.align?h.feedbackFormContainerAlignCenter:null)),r.createElement("div",{className:h.feedbackFormFields},e.hideLogo?null:r.createElement("div",{className:h.feedbackFormLogo}),r.createElement("div",{className:h.feedbackFormTitle},e.title||r.createElement("span",null,"How do you like ",r.createElement("br",null)," Grammarly?")),e.withScore?r.createElement(r.Fragment,null,r.createElement(n,{ariaLabel:"Feedback Score",options:t.map((e=>({value:e,render(){let t,a;return e===o.bad?(t=p.feedbackFormOptionIconDisheartening,a="Dissatisfied"):e===o.ok?(t=p.feedbackFormOptionIconNeutral,a="It's Ok"):(t=t=p.feedbackFormOptionIconSmiling,a="Satisfied"),r.createElement("div",{className:p.feedbackFormOption},r.createElement("div",Object.assign({},(0,s.Sh)(p.feedbackFormOptionIcon,t))),r.createElement("div",null,a))}}))),onChange:i,className:h.feedbackFormScore}),r.createElement("div",{className:h.feedbackFormTextBoxTitle},"How can we improve?")):null,r.createElement(c.z,{onChange:f,placeholder:"Tell us what you think",ariaLabel:"Feedback Text",className:h.feedbackFormTextBox}),e.domain?r.createElement(r.Fragment,null,r.createElement("div",{className:h.feedbackFormShareDomainTitle},"Help improve Grammarly by sharing the domain you’re on:"),r.createElement(d.J,{labelId:"feedback-form-share-domain-checkbox",onChange:k,className:h.feedbackFormShareDomainCheckbox},"Include the domain ",r.createElement("b",null,e.domain)," with my feedback")):null),r.createElement(l.z,{containerClassName:(0,u.cs)(h.feedbackFormSubmitButton,e.fixSubmitButtonOverflowBottomPadding?h.feedbackFormSubmitButtonFixOverflowBottomPadding:null),kind:"success",type:"submit",disabled:e.withScore?!a:!b,onClick:()=>{var t,r;e.withScore&&a?(null===(t=e.onSubmit)||void 0===t||t.call(e,{score:a,text:b,domain:g?e.domain:void 0}),S(!0)):!e.withScore&&b&&(null===(r=e.onSubmit)||void 0===r||r.call(e,{text:b,domain:g?e.domain:void 0}),S(!0))},style:{height:"32px",background:(e.withScore?a:b)?void 0:m.Z.neutral40}},"Submit")),r.createElement("div",{style:{height:"100%",...e.style},"data-grammarly-part":"surveys-feedback-form"},x)};f.defaultProps={hideLogo:!1,align:"center",fixSubmitButtonOverflowBottomPadding:!1}},25682:(e,t,a)=>{var r=a(93476)((function(e){return e[1]}));r.push([e.id,"._380Y1-textBox{font-family:Inter,sans-serif;font-style:normal;font-weight:normal;color:#0e101a;font-size:14px;line-height:21px;font-feature-settings:'ss03' on;background:#f9faff;border:1px solid #e7e9f5;box-sizing:border-box;border-radius:4px;padding:10px 8px;overflow-y:auto;cursor:text;width:100%;height:100%;}._380Y1-textBox:empty:before{font-feature-settings:'ss03' on;font-family:Inter,sans-serif;font-style:normal;font-weight:normal;color:#6d758d;font-size:14px;line-height:21px;content:attr(data-placeholder)}",""]),r.locals={textBox:"_380Y1-textBox"},e.exports=r},53358:e=>{e.exports={checkboxContainer:"_30OQ2",checkbox:"_1eqmB",checkboxChecked:"_105R3"}},21420:e=>{e.exports={radioGroup:"_3jZFB",radioGroupOption:"_1Boe7",radioGroupOptionSelected:"_37tnK"}},51217:e=>{e.exports={feedbackFormContainer:"_1M-GI",feedbackFormContainerAlignCenter:"_3QNrK",feedbackFormFields:"Jg_OY",feedbackFormTitle:"nPjzw",feedbackFormTextBoxTitle:"_2yUbL",feedbackFormLogo:"_2C-d7",feedbackFormScore:"_3AmBq",feedbackFormTextBox:"FO2oU",feedbackFormShareDomainTitle:"_2UXTO",feedbackFormShareDomainCheckbox:"_3mSXM",feedbackFormSubmitButton:"_32xYR",feedbackFormSubmitButtonFixOverflowBottomPadding:"IJDSA",feedbackFormSuccessMessageTextContainer:"_2JO6Z",feedbackFormSuccessMessageIcon:"oVxds",feedbackFormSuccessMessageTitle:"_1MdvM",feedbackFormSuccessMessageSubtitle:"_1EKkw",spin:"_2ycFE"}},44544:e=>{e.exports={feedbackFormOption:"_9K_Q8",feedbackFormOptionIcon:"_259oL",feedbackFormOptionIconDisheartening:"_3NJTM",feedbackFormOptionIconNeutral:"i-5N8",feedbackFormOptionIconSmiling:"_1Dxi9",spin:"_2elyX"}},16118:(e,t,a)=>{"use strict";a.d(t,{G:()=>i});var r=a(59312),s=a(98036);function i(){return function(e){return e.lift(new n)}}var n=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new o(e))},e}(),o=function(e){function t(t){var a=e.call(this,t)||this;return a.hasPrev=!1,a}return r.ZT(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(s.L)}}]);